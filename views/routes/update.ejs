<% layout('./boilerplate') -%>
<div class="flex justify-center">
    <form action="/note/<%=data._id%>?_method=PUT" method="post" class="bg-slate-600 p-3 rounded-2xl shadow-md">
        <label for="title">Title</label> <br>
        <input
            type="text"
            name="title"
            placeholder="Type here"
            value="<%=data.title %>"
            class="input input-bordered input-info w-full max-w-xs" /> <br><br>
    
        <label for="note">Notes</label> <br>
        <div class="flex flex-col">
            <textarea
                id="noteTextarea"
                name="note"
                class="textarea textarea-info w-[340px] lg:w-[900px] overflow-hidden resize-none"
                placeholder="Bio"
                oninput="this.style.height = 'auto'; this.style.height = this.scrollHeight + 'px';"><%=data.note %></textarea>
            <button class="btn btn-sm btn-success mt-6 self-end">Update Notes</button>
        </div>
    </form>
    
</div>

<script>
    // Function to adjust the height of the textarea
    function adjustTextareaHeight() {
        const textarea = document.getElementById('noteTextarea');
        textarea.style.height = 'auto'; // Reset the height
        textarea.style.height = textarea.scrollHeight + 'px'; // Set to scrollHeight
    }

    // Adjust the height on page load
    window.onload = adjustTextareaHeight;
</script>
